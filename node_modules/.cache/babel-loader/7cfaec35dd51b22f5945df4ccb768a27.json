{"ast":null,"code":"import _classCallCheck from \"/Users/mithu/Desktop/Code/Udacity/myReads/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mithu/Desktop/Code/Udacity/myReads/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mithu/Desktop/Code/Udacity/myReads/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mithu/Desktop/Code/Udacity/myReads/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mithu/Desktop/Code/Udacity/myReads/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mithu/Desktop/Code/Udacity/myReads/src/Search.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport ReturnedBooks from './ReturnedBooks';\nimport * as BooksAPI from './BooksAPI';\nimport sortBy from 'sort-by';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      query: '',\n      filteredBooks: [],\n      searchResults: false\n    };\n\n    _this.getBooks = function (event) {\n      var query = event.target.value;\n\n      _this.setState({\n        query: query\n      });\n\n      if (query) {\n        BooksAPI.search(query).then(function (books) {\n          books.length > 0 ? _this.setState({\n            filteredBooks: books,\n            searchResults: false\n          }) : _this.setState({\n            filteredBooks: [],\n            searchResults: true\n          });\n        });\n      } else {\n        _this.setState({\n          filteredBooks: [],\n          searchResults: false\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          query = _this$state.query,\n          filteredBooks = _this$state.filteredBooks,\n          searchResults = _this$state.searchResults;\n      var _this$props = this.props,\n          books = _this$props.books,\n          changeShelf = _this$props.changeShelf;\n      filteredBooks.sort(sortBy('title'));\n      return React.createElement(\"div\", {\n        className: \"search-books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-books-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"close-search\",\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Close\"), React.createElement(\"div\", {\n        className: \"search-books-input-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by title or author\",\n        value: query,\n        onChange: this.getBooks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search-books-results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        className: \"books-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, filteredBooks.map(function (book) {\n        return React.createElement(ReturnedBooks, {\n          book: book,\n          books: books,\n          key: book.id,\n          changeShelf: changeShelf,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      }))), React.createElement(\"h3\", {\n        className: \"searchResults\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"No results found!!\")));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nSearch.propTypes = {\n  books: PropTypes.array.isRequired,\n  changeShelf: PropTypes.func.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["/Users/mithu/Desktop/Code/Udacity/myReads/src/Search.js"],"names":["React","Component","PropTypes","Link","ReturnedBooks","BooksAPI","sortBy","Search","state","query","filteredBooks","searchResults","getBooks","event","target","value","setState","search","then","books","length","props","changeShelf","sort","map","book","id","propTypes","array","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nimport ReturnedBooks from './ReturnedBooks'\nimport * as BooksAPI from './BooksAPI'\nimport sortBy from 'sort-by';\n\nclass Search extends Component {\n  static propTypes = {\n    books: PropTypes.array.isRequired,\n    changeShelf: PropTypes.func.isRequired\n  }\n\n  state = {\n    query: '',\n    filteredBooks: [],\n    searchResults: false\n  }\n\n  getBooks = (event) => {\n    const query = event.target.value\n    this.setState({ query: query })\n\n    if (query) {\n      BooksAPI.search(query).then((books) => {\n        books.length > 0 ?  this.setState({filteredBooks: books, searchResults: false }) : this.setState({ filteredBooks: [], searchResults: true })\n      })\n    } else {\n      this.setState({filteredBooks: [], searchResults: false })\n    }\n  }\n\n  render() {\n\n    const { query, filteredBooks, searchResults } = this.state\n    const { books, changeShelf } = this.props\n    filteredBooks.sort(sortBy('title'))\n      return (\n        <div className=\"search-books\">\n          <div className=\"search-books-bar\">\n            <Link className=\"close-search\"  to=\"/\">Close</Link>\n            <div className=\"search-books-input-wrapper\">\n              <input type=\"text\"\n                placeholder=\"Search by title or author\"\n                value={ query }\n                onChange={ this.getBooks } />\n            </div>\n          </div>\n          <div className=\"search-books-results\">\n            {(\n              <div>\n                <ol className=\"books-grid\">\n                  {filteredBooks.map((book) => (\n                    <ReturnedBooks\n                      book={ book }\n                      books={ books }\n                      key={ book.id }\n                      changeShelf={ changeShelf }\n                    />\n                  ))}\n                </ol>\n              </div>\n            )}\n            {(<h3 className=\"searchResults\">No results found!!</h3> )}\n          </div>\n        </div>\n      )}\n}\nexport default Search\n"]},"metadata":{},"sourceType":"module"}