{"version":3,"sources":["../src/ReactAccordion.js"],"names":[],"mappings":"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","file":"ReactAccordion.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport Header from './lib/Header';\nimport ContentManager from './lib/ContentManager';\nimport { Motion, spring } from \"react-motion\";\n\nexport default class ReactAccordion extends Component {\n  static propTypes = {\n    data: PropTypes.array.isRequired,\n    options: PropTypes.object.isRequired,\n    headerAttName: PropTypes.string.isRequired,\n    itemsAttName: PropTypes.string.isRequired,\n    styles: PropTypes.object.isRequired\n  }\n\n  constructor(props) {\n    super(props);\n    const { data } = this.props;\n    this.state = {\n      data\n    }\n  }\n\n  render() {\n    const { headerAttName, itemsAttName } = this.props;\n    const { styles: {outerDiv, ul, listHeader, listItems, li} } = this.props;\n    const { data } = this.state;\n\n    let _refi = 0;\n    let makeHeaderRef = () => {\n      return `ListHeader-${_refi}`;\n    };\n\n    let makeItemRef = () => {\n      return `ListItem-${_refi}`;\n    };\n\n    return (\n      <div ref=\"listview\" style={outerDiv}>\n        <ul style={ul}>\n        {\n          Object.keys(data).map((k, index) => {\n          const header = data[k][headerAttName];\n          const items  = data[k][itemsAttName];\n          const { isOpened } = data[k];\n          _refi++;\n          const headerRef = makeHeaderRef();\n          const itemRef = makeItemRef();\n\n          return (\n            <Motion\n              key={index}\n              defaultStyle={{h: 0}}\n              style={{h: spring(isOpened ? 110 : 0)}}>\n              {\n                ({h}) => (\n                  <div>\n                    <li>\n                      <Header\n                        ref={headerRef}\n                        header={header}\n                        headerIndex={index}\n                        styles={listHeader}\n                        handleToggle={this.handleToggle.bind(this, index)}\n                      />\n                      <div\n                        style={{\n                          display: `block`,\n                          overflow: `hidden`,\n                          height:`${h}`,\n                          ...listItems\n                          }}>\n                        <ContentManager\n                         ref={itemRef}\n                         items={items}\n                         styles={listItems}\n                        />\n                      </div>\n                    </li>\n                  </div>\n                )\n              }\n            </Motion>\n          );\n          })\n        }\n        </ul>\n      </div>\n    );\n  }\n\n  handleToggle(headerIndex) {\n    let { data } = this.state;\n    const { options: { autoClapse } } = this.props;\n    let dataCopy = data;\n\n    if(autoClapse) {\n      dataCopy.forEach((e, index) => {\n        if(index != headerIndex) {\n          e.isOpened = false;\n        }\n      });\n    }\n\n    dataCopy[headerIndex].isOpened = !dataCopy[headerIndex].isOpened;\n    const newData = Object.assign({}, dataCopy);\n\n    this.setState(\n      newData\n    )\n  }\n}\n"]}